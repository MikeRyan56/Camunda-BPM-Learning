<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_0rcukgf" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="1.16.2">
  <bpmn:process id="CostCenterApproval" name="Cost Center Approval" isExecutable="true">
    <bpmn:startEvent id="StartEvent_1" name="Start&#10;" camunda:initiator="requestor">
      <bpmn:extensionElements>
        <camunda:formData businessKey="FormField_Key">
          <camunda:formField id="FormField_costCenter" label="Cost Center" type="string" defaultValue="101" />
          <camunda:formField id="FormField_amount" label="Amount" type="long" defaultValue="4000" />
          <camunda:formField id="FormField_description" label="Description" type="string" defaultValue="Bob wants his money or else." />
          <camunda:formField id="FormField_submittedBy" label="Submitted By" type="string" defaultValue="${currentUser()}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="FormField_Key" label="Business Key" type="string" defaultValue="#{makekey.getBK()}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:outgoing>SequenceFlow_0ml4f17</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="SequenceFlow_16t93zr" sourceRef="Task_01fjx1b" targetRef="Task_0wybguo" />
    <bpmn:exclusiveGateway id="ExclusiveGateway_0j4r3jv" name="Primary Approval">
      <bpmn:incoming>SequenceFlow_1nwzf2f</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0m4mofk</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0m9ppwm</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1nwzf2f" sourceRef="Task_0wybguo" targetRef="ExclusiveGateway_0j4r3jv" />
    <bpmn:sequenceFlow id="SequenceFlow_0m4mofk" name="Owner Rejection" sourceRef="ExclusiveGateway_0j4r3jv" targetRef="Task_14dhhxo">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${FormField_primaryApproval==false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1hnejye" name="Withdraw">
      <bpmn:incoming>SequenceFlow_1f1rrwr</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0r5ynyj</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1qcyntf</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1f1rrwr" sourceRef="Task_14dhhxo" targetRef="ExclusiveGateway_1hnejye" />
    <bpmn:sequenceFlow id="SequenceFlow_0r5ynyj" sourceRef="ExclusiveGateway_1hnejye" targetRef="Task_01fjx1b">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${FormField_withdraw==false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="EndEvent_0fjc0tp" name="Withdrawn">
      <bpmn:incoming>SequenceFlow_1qcyntf</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1qcyntf" sourceRef="ExclusiveGateway_1hnejye" targetRef="EndEvent_0fjc0tp">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${FormField_withdraw==true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:businessRuleTask id="Task_01fjx1b" name="Cost Center Approval" camunda:resultVariable="cca" camunda:decisionRef="CostCenterApproval">
      <bpmn:incoming>SequenceFlow_0r5ynyj</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0ml4f17</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_16t93zr</bpmn:outgoing>
    </bpmn:businessRuleTask>
    <bpmn:userTask id="Task_0wybguo" name="Cost Center Owner Approval" camunda:assignee="${cca[0].owner}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="FormField_costCenter" label="Cost Center" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="FormField_amount" label="Amount" type="long">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="FormField_description" label="Description" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="FormField_primaryApproval" label="Primary Approval" type="boolean" />
          <camunda:formField id="FormField_ApprovalNotes" label="Approval Comment" type="string">
            <camunda:validation>
              <camunda:constraint name="maxlength" config="500" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="FormField_submittedBy" label="Submitted By" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_16t93zr</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1nwzf2f</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Task_14dhhxo" name="Review of CCO Rejection" camunda:assignee="${requestor}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="FormField_costCenter" label="Cost Center" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="FormField_amount" label="Amount" type="long">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="FormField_description" label="Description" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="FormField_ApprovalNotes" label="Approval Comment" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="FormField_withdraw" label="Withdraw Request" type="boolean" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0m4mofk</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1vci9qj</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1f1rrwr</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_0m9ppwm" sourceRef="ExclusiveGateway_0j4r3jv" targetRef="ExclusiveGateway_1s16rnq">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${FormField_primaryApproval == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:userTask id="Task_0yhftta" name="A/R Processing" camunda:candidateGroups="AccountsReceivable">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="FormField_costCenter" label="Cost Center" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="FormField_amount" label="Amount" type="long">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="FormField_description" label="Description" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="FormField_ApprovalNotes" label="Approval Comment" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="FormField_submittedBy" label="Requested For" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="FormField_DateBilled" label="Date of Billing" type="date">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1cdwk4d</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0yy4gn2</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1kiuw07</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1s16rnq" name="Limit Check">
      <bpmn:incoming>SequenceFlow_0m9ppwm</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1cdwk4d</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0xjl0qo</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1cdwk4d" name="Under Approval Limit" sourceRef="ExclusiveGateway_1s16rnq" targetRef="Task_0yhftta">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{cca[0].limit &gt;= FormField_amount}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0xjl0qo" name="Over Approval Limit" sourceRef="ExclusiveGateway_1s16rnq" targetRef="Task_0op8kwn">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{cca[0].limit &lt; FormField_amount}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0ontu65">
      <bpmn:incoming>SequenceFlow_1cmd4zr</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0yy4gn2</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1vci9qj</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1cmd4zr" sourceRef="Task_0op8kwn" targetRef="ExclusiveGateway_0ontu65" />
    <bpmn:sequenceFlow id="SequenceFlow_0yy4gn2" name="Secondary Approval" sourceRef="ExclusiveGateway_0ontu65" targetRef="Task_0yhftta">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${FormField_secondaryApproval==true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1vci9qj" name="Secondary Reject" sourceRef="ExclusiveGateway_0ontu65" targetRef="Task_14dhhxo">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${FormField_secondaryApproval==false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:userTask id="Task_0op8kwn" name="Secondary Approval" camunda:assignee="${cca[0].secondary}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="FormField_costCenter" label="Cost Center" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="FormField_amount" label="Amount" type="long">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="FormField_description" label="Description" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="FormField_ApprovalNotes" label="Approval Comment" type="string">
            <camunda:validation>
              <camunda:constraint name="maxlength" config="500" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="FormField_submittedBy" label="Submitted By" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="FormField_secondaryApproval" label="Secondary Approval" type="boolean" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0xjl0qo</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1cmd4zr</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:endEvent id="EndEvent_1841rs6" name="Completed">
      <bpmn:incoming>SequenceFlow_1kiuw07</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1kiuw07" sourceRef="Task_0yhftta" targetRef="EndEvent_1841rs6" />
    <bpmn:sequenceFlow id="SequenceFlow_0ml4f17" sourceRef="StartEvent_1" targetRef="Task_01fjx1b" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="CostCenterApproval">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="173" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="178" y="78" width="25" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_16t93zr_di" bpmnElement="SequenceFlow_16t93zr">
        <di:waypoint x="359" y="120" />
        <di:waypoint x="409" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0j4r3jv_di" bpmnElement="ExclusiveGateway_0j4r3jv" isMarkerVisible="true">
        <dc:Bounds x="559" y="95" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="541" y="71" width="85" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1nwzf2f_di" bpmnElement="SequenceFlow_1nwzf2f">
        <di:waypoint x="509" y="120" />
        <di:waypoint x="559" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0m4mofk_di" bpmnElement="SequenceFlow_0m4mofk">
        <di:waypoint x="584" y="145" />
        <di:waypoint x="584" y="329" />
        <di:waypoint x="508" y="329" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="524" y="234" width="82" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_1hnejye_di" bpmnElement="ExclusiveGateway_1hnejye" isMarkerVisible="true">
        <dc:Bounds x="284" y="336" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="286" y="396" width="46" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1f1rrwr_di" bpmnElement="SequenceFlow_1f1rrwr">
        <di:waypoint x="409" y="361" />
        <di:waypoint x="334" y="361" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0r5ynyj_di" bpmnElement="SequenceFlow_0r5ynyj">
        <di:waypoint x="309" y="336" />
        <di:waypoint x="309" y="160" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_0fjc0tp_di" bpmnElement="EndEvent_0fjc0tp">
        <dc:Bounds x="182" y="343" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="174" y="386" width="52" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1qcyntf_di" bpmnElement="SequenceFlow_1qcyntf">
        <di:waypoint x="284" y="361" />
        <di:waypoint x="218" y="361" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BusinessRuleTask_0eftnut_di" bpmnElement="Task_01fjx1b">
        <dc:Bounds x="259" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_1w25hkz_di" bpmnElement="Task_0wybguo">
        <dc:Bounds x="409" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_1gfrtw3_di" bpmnElement="Task_14dhhxo">
        <dc:Bounds x="409" y="321" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0m9ppwm_di" bpmnElement="SequenceFlow_0m9ppwm">
        <di:waypoint x="609" y="120" />
        <di:waypoint x="713" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1hwtkvb_di" bpmnElement="Task_0yhftta">
        <dc:Bounds x="872" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1s16rnq_di" bpmnElement="ExclusiveGateway_1s16rnq" isMarkerVisible="true">
        <dc:Bounds x="713" y="95" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="708" y="70" width="59" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1cdwk4d_di" bpmnElement="SequenceFlow_1cdwk4d">
        <di:waypoint x="763" y="120" />
        <di:waypoint x="872" y="120" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="772" y="90" width="77" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0xjl0qo_di" bpmnElement="SequenceFlow_0xjl0qo">
        <di:waypoint x="738" y="145" />
        <di:waypoint x="738" y="193" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="715" y="153" width="71" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0ontu65_di" bpmnElement="ExclusiveGateway_0ontu65" isMarkerVisible="true">
        <dc:Bounds x="713" y="336" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1cmd4zr_di" bpmnElement="SequenceFlow_1cmd4zr">
        <di:waypoint x="738" y="273" />
        <di:waypoint x="738" y="336" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0yy4gn2_di" bpmnElement="SequenceFlow_0yy4gn2">
        <di:waypoint x="763" y="361" />
        <di:waypoint x="922" y="361" />
        <di:waypoint x="922" y="160" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="860" y="325" width="53" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1vci9qj_di" bpmnElement="SequenceFlow_1vci9qj">
        <di:waypoint x="713" y="361" />
        <di:waypoint x="593" y="361" />
        <di:waypoint x="509" y="361" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="609" y="343" width="88" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_12trm2y_di" bpmnElement="Task_0op8kwn">
        <dc:Bounds x="688" y="193" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1841rs6_di" bpmnElement="EndEvent_1841rs6">
        <dc:Bounds x="1054" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1046" y="145" width="54" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1kiuw07_di" bpmnElement="SequenceFlow_1kiuw07">
        <di:waypoint x="972" y="120" />
        <di:waypoint x="1054" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0ml4f17_di" bpmnElement="SequenceFlow_0ml4f17">
        <di:waypoint x="209" y="120" />
        <di:waypoint x="259" y="120" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
